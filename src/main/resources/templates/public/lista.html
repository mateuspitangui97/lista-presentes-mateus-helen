<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: head(${config != null and config.tituloPagina != null} ? ${config.tituloPagina} : 'Lista de Presentes')}"></head>
<body>

<header th:replace="~{fragments/header :: header}"></header>
<nav th:replace="~{fragments/header :: nav-public}"></nav>

<main class="container">
    <!-- Mensagem de boas-vindas -->
    <div th:if="${config != null and config.mensagemBoasVindas != null and !config.mensagemBoasVindas.isEmpty()}"
         class="welcome-section">
        <h2>Bem-vindos!</h2>
        <p th:text="${config.mensagemBoasVindas}">Mensagem de boas-vindas</p>
    </div>

    <div th:if="${erro}" class="alert alert-danger" th:text="${erro}"></div>

    <div th:if="${#lists.isEmpty(itens)}" class="page-content empty-state">
        <div class="icon">&#127873;</div>
        <h3>Nenhum item disponivel no momento</h3>
        <p>Volte em breve para conferir nossa lista de presentes!</p>
    </div>

    <div th:unless="${#lists.isEmpty(itens)}" class="items-grid">
        <div th:each="item : ${itens}" class="item-card">
            <img th:if="${item.imagemUrl != null and !item.imagemUrl.isEmpty()}"
                 th:src="${item.imagemUrl}"
                 th:alt="${item.nome}">
            <div th:unless="${item.imagemUrl != null and !item.imagemUrl.isEmpty()}" class="no-image">
                &#127873;
            </div>
            <div class="item-card-body">
                <h3 th:text="${item.nome}">Nome do Produto</h3>
                <div class="price" th:text="${#numbers.formatCurrency(item.valor)}">R$ 0,00</div>
                <p class="description" th:if="${item.descricao}"
                   th:text="${#strings.abbreviate(item.descricao, 100)}">Descricao</p>
                <a th:href="@{/item/{id}(id=${item.id})}" class="btn btn-primary btn-block">Ver Detalhes</a>
            </div>
        </div>
    </div>
</main>

<footer th:replace="~{fragments/footer :: footer}"></footer>

</body>
</html>
